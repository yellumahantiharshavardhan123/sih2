# TripSafe MVP — monorepo (Flutter mobile + Next.js admin) with Supabase and MapTiler

## Summary
This PR delivers a demo-ready TripSafe MVP implemented as a monorepo:
- apps/mobile: Flutter app (Riverpod + go_router + MapLibre) with auth, profile, map overlays, simulated geofencing, panic streaming, safety score, Digital ID (sha256), bilingual assistant (EN/HI), family links.
- apps/admin: Next.js 14 (App Router + Tailwind + maplibre-gl) with heatmap + risk overlays, realtime alerts, tourists list, incidents table, reports, Digital ID view, optional family map.
- packages/shared: Shared TS types, risk scoring utils, and i18n JSON for web.
- supabase: schema.sql (tables/enums), policies.sql (RLS), seed.sql (risk zones, sample profiles/incidents/events).

Realtime is wired on tourist_locations (INSERT) and panic_alerts (INSERT/UPDATE). Maps use MapTiler styles on both platforms. Safety score aligns with the documented weights.

## Changes since main
- Add monorepo structure with root workspaces and TS config paths.
- Add Supabase SQL: risk_level enum; tables: profiles, contacts, risk_zones, tourist_locations, geofence_events, panic_alerts, incidents, family_links; publications for Realtime.
- Add RLS policies for user-owned tables; anon SELECT for risk_zones.
- Add seed data for Delhi area risk zones, demo profiles, incidents, and geofence events.
- Implement Flutter app features: auth/profile, map (risk overlays), panic session with periodic tourist_locations, simulated geofencing (teleport + PIP), safety score badge, Digital ID (hash + QR), bilingual assistant, settings (language + share + family link code/QR), e-FIR mock.
- Implement admin: Live map (heatmap + polygons), Alerts list (realtime), Tourists list (with last location + score), Incidents table (update status), Reports, Digital ID view, Family view by code.
- Configure environment usage for Supabase and MapTiler across web/mobile.

## Impact
- Provides a complete demo-ready system aligning with the requested acceptance criteria.
- Establishes clear patterns for shared types, Realtime wiring, and map layers.
- Portable seed + policies allow reviewers to recreate/inspect DB state quickly.

## Notes
- For demo convenience, an `.env.local` with keys is included in the admin app. These should be rotated post-demo and moved to a secure secrets mechanism before production. Mobile reads keys via Dart defines with sensible defaults.
- Family links and demo location points were populated to ensure immediate visibility on the admin map.

## Why
- Enable immediate end-to-end demonstration of TripSafe features (tourist safety monitoring + admin oversight) with minimal setup, showcasing Supabase Realtime, MapLibre overlays, and bilingual UX.


₍ᐢ•(ܫ)•ᐢ₎ Generated by [Capy](https://capy.ai) ([view task](https://capy.ai/project/1796407e-88c6-4144-ad2a-581c3b95a316/task/1224e5b6-c2b1-4972-819b-84e8ad5890be))